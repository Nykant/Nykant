<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Nykant</title>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />

    <link rel="stylesheet" href="~/css/style.css" />
    <link rel="stylesheet" href="~/css/filter.css" />
    <link rel="stylesheet" href="~/css/down-arrow.css" />
    <link rel="stylesheet" href="~/css/bag.css" />
    <link rel="stylesheet" href="~/css/checkout.css" />
    <link rel="stylesheet" href="~/css/custom-input.css" />
    <link rel="stylesheet" href="~/css/custom-select.css" />
    <link rel="stylesheet" href="~/css/custom-list.css" />
    <link rel="stylesheet" href="~/css/custom-list2.css" />
    <link rel="stylesheet" href="~/css/breadcrumbs.css" />
    <link rel="stylesheet" href="~/css/navbar.css" />
    <link rel="stylesheet" href="~/css/product-details.css" />
    <link rel="stylesheet" href="~/css/product-gallery.css" />
    <link rel="stylesheet" href="~/css/front-page.css" />
    <link rel="stylesheet" href="~/css/privacy.css" />
    <link rel="stylesheet" href="~/css/custom-switch.css" />
    <link rel="stylesheet" href="~/css/search.css" />

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-validation/dist/additional-methods.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jquery.unobtrusive-ajax/3.2.5/jquery.unobtrusive-ajax.min.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
    
</head>
<body>

    @using NykantMVC.Extensions;
    @{
        var bagItemAmount = Context.Session.Get<int>("verysecretseriouscheckoutsessionkeyspecial");
        var url = Context.Request.Path;
    }
    <div id="search-container">
        <partial name="_SearchPartial" />
    </div>
    
    <partial name="_CookieConsentPartial" />
    <div class="row">

        @*-----------------------------------------------NAVBAR MOBILE-----------------------------------------------*@

        <div class="col-12 navbar-mobile">
            <div class="navbar-mobile-wrap highlightTextIn highlightTextOut">
                <a alt="NYKANT" asp-controller="Home" asp-action="Index"><span style="color:#eaeaea">N</span>YKANT</a>

                <a href="javascript:void(0);" class="icon" onclick="mobileNav()">
                    <i class="fa fa-bars"></i>
                </a>

                <a class="icon" asp-controller="Bag" asp-action="GetBag" asp-route-id=""><i class="fa fa-shopping-bag" aria-hidden="true"></i></a>

                @if (User.Identity.IsAuthenticated)
                {

                    <div id="userBurger">
                        <a alt="logged in as: !" asp-controller="Account" asp-action="Profile" title="Manage">logged in as: !</a>
                        <form asp-Controller="Account" asp-action="Logout">
                            <button type="submit">Logout</button>
                        </form>
                    </div>
                    <a href="javascript:void(0);" class="icon" onclick="userBurger()">
                        <i class="fas fa-user"></i>
                    </a>
                }
                else
                {
                    <div id="userBurger">
                        <a alt="REGISTER" asp-area="Identity" asp-page="/Account/Register">REGISTER</a>
                        <a alt="LOGIN" asp-area="Identity" asp-page="/Account/Login">LOGIN</a>
                    </div>
                    <a href="javascript:void(0);" class="icon" onclick="userBurger()">
                        <i class="fas fa-user"></i>
                    </a>
                }

                <div id="myLinks">
                    <a alt="HJEM" asp-controller="Home" asp-action="Index">HJEM</a>
                    <a alt="PRODUKTER" asp-controller="Product" asp-action="Index">PRODUKTER</a>
                    <a alt="KONTAKT" asp-controller="Contact" asp-action="Index">KONTAKT</a>
                </div>
            </div>
        </div>

        @*----------------------------------------------NAVBAR DESKTOP------------------------------------------------*@

        <div class="col-12 navbar">
            <div class="navbar-wrap highlightTextIn">
                <button id="search-button"><i class="fas fa-search"></i></button>
                <a alt="NYKANT" asp-controller="Home" asp-action="Index"><span style="color:var(--blue)">NY</span>KANT</a>
                <a id="product-link" alt="PRODUKTER" asp-controller="Product" asp-action="Index">PRODUKTER</a>
                <a class="icon" asp-controller="Bag" asp-action="Details"><span>@bagItemAmount</span> <i class="fa fa-shopping-bag" aria-hidden="true"></i></a>

                @if (User.Identity.IsAuthenticated)
                {
                    <div id="userBurger2">
                        <a href="https://localhost:5001/profile/personalinfo">
                            Profil
                        </a>
                        <a asp-controller="Order" asp-action="History">
                            Ordre Historik
                        </a>
                        <a asp-controller="Account" asp-action="Logout">
                            Logout
                        </a>
                    </div>
                    <a href="javascript:void(0);" class="icon" id="userLogo">
                        <i class="fas fa-user"></i>
                    </a>
                }
                else
                {
                    <div id="userBurger2">
                        <a asp-controller="Account" asp-action="Login" asp-route-redirectUrl="@url">
                            Login or Register
                        </a>
                    </div>
                    <a href="javascript:void(0);" class="icon" id="userLogo">
                        <i class="fas fa-user"></i>
                    </a>
                }

            </div>
        </div>
        @*----------------------------------------------------------------------------------------------*@
    </div>
    <div>
        <main>
            @RenderBody()
        </main>
    </div>

    <footer>
        <div class="top-footer">
            <div class="nykant-info">
                <h1>Nykant</h1>
                <a asp-controller="Home" asp-action="About">Om Nykant</a>
            </div>
            <div class="customer-service">
                <h1>Kundeservice</h1>
                <a asp-controller="Home" asp-action="Contact">Kontakt os</a>
            </div>
            <div class="socialmedia">
                <a href="#" class="icon"><i class="fab fa-facebook"></i></a>
            </div>
        </div>
        <div class="bottom-footer">
            <div class="copyright left">
                &copy; Nykant ApS 2021
            </div>
            <div class="policy-links right">
                <a asp-controller="Home" asp-action="PrivacyPolicy">Håndtering af persondata</a>
                <a asp-controller="Home" asp-action="CookiePolicy">Cookie politik og instillinger</a>
                <a asp-controller="Home" asp-action="TermsAndConditions">Vilkår og betingelser</a>
                <a asp-controller="Home" asp-action="DataSecurityReporting">Data sikkerhedsrapportering</a>
            </div>
        </div>
    </footer>



    @* ----------------------------------GLOBAL SCRIPTS-------------------------------------- *@

    <script src="https://kit.fontawesome.com/dfade6c231.js" crossorigin="anonymous"></script>
    <script src="~/JS/mobileNav.js"></script>
    <script src="~/JS/slide-details.js"></script>
    <script src="~/JS/counter.js"></script>
    <script src="~/JS/image-changer.js"></script>
    <script src="~/JS/jquery.mixitup.min.js"></script>
    <script src="~/JS/modernizr.js"></script>
    <script src="~/JS/main.js"></script>  @*Resource jQuery*@
    <script src="~/JS/slide-text.js"></script>
    <script src="~/JS/downarrow-stop.js"></script>
    <script src="~/JS/slideshow.js"></script>
    <script src="~/JS/custom-input.js"></script>
    <script src="~/JS/collapsible.js"></script>
    <script src="~/JS/search.js"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>

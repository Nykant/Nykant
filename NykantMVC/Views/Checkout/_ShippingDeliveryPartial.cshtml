@inject IViewLocalizer localizer
@model CheckoutVM

@{
    var optionValue = 1;
    var shippingMethods = new List<ShippingMethod>
    {
        new ShippingMethod { Type = "Home", Price = 65 },
        new ShippingMethod { Type = "Shop", Price = 0 }
    };
}

<div class="row bottom-side-padding">
    <div class="responsive-form">

        <div class="checkout-header" id="shipping-header">
            <h1>@localizer["Delivery Method"]</h1>
            <div class="check-sign" id="shipping-check-sign">
                <i class="fa fa-check" aria-hidden="true"></i>
            </div>
            <div class="summary" id="shipping-summary">
                <p>@localizer["Delivery Method"]: <span id="shipping-method-summary">@Model.Checkout.ShippingDelivery.Type</span></p>

                <div class="margin-top-10" id="parcelshop-summary">
                    <p>@localizer["Company Name"]: <span id="parcelshop-companyname-summary">@Model.Checkout.ShippingDelivery.ParcelshopData.CompanyName</span></p>
                    <p>@localizer["StreetName"]: <span id="parcelshop-streetname-summary">@Model.Checkout.ShippingDelivery.ParcelshopData.Streetname</span></p>
                    <p>@localizer["StreetName2"]: <span id="parcelshop-streetname2-summary">@Model.Checkout.ShippingDelivery.ParcelshopData.Streetname2</span></p>
                    <p>@localizer["CityName"]: <span id="parcelshop-cityname-summary">@Model.Checkout.ShippingDelivery.ParcelshopData.CityName</span></p>
                    <p>@localizer["ZipCode"]: <span id="parcelshop-zipcode-summary">@Model.Checkout.ShippingDelivery.ParcelshopData.ZipCode</span></p>
                    <p>@localizer["CountryCode"]: <span id="parcelshop-countrycode-summary">@Model.Checkout.ShippingDelivery.ParcelshopData.CountryCodeISO3166A2</span></p>
                </div>
                <button class="button edit-button" id="shipping-edit-button">@localizer["Change"]</button>
            </div>

        </div>
        <form id="shipping-form" method="post" data-ajax="true" data-ajax-method="post" data-ajax-success="noop" data-ajax-complete="shipping_completed" data-ajax-begin="noop" data-ajax-failure="noop" asp-controller="Checkout" asp-action="PostShipping">
            <input type="hidden" id="edit-shipping" name="editShipping" />
            <input required type="hidden" id="shipping-delivery-type" name="shippingDelivery.Type" asp-for="@Model.Checkout.ShippingDelivery.Type" />
            <input required type="hidden" id="shipping-delivery-price" name="shippingDelivery.Price" asp-for="@Model.Checkout.ShippingDelivery.Price" />
            <input required type="hidden" id="parcelshop-CompanyName" name="shippingDelivery.ParcelshopData.CompanyName" asp-for="@Model.Checkout.ShippingDelivery.ParcelshopData.CompanyName" />
            <input required type="hidden" id="parcelshop-StreetName" name="shippingDelivery.ParcelshopData.Streetname" asp-for="@Model.Checkout.ShippingDelivery.ParcelshopData.Streetname" />
            <input required type="hidden" id="parcelshop-StreetName2" name="shippingDelivery.ParcelshopData.Streetname2" asp-for="@Model.Checkout.ShippingDelivery.ParcelshopData.Streetname2" />
            <input required type="hidden" id="parcelshop-ZipCode" name="shippingDelivery.ParcelshopData.ZipCode" asp-for="@Model.Checkout.ShippingDelivery.ParcelshopData.ZipCode" />
            <input required type="hidden" id="parcelshop-CityName" name="shippingDelivery.ParcelshopData.CityName" asp-for="@Model.Checkout.ShippingDelivery.ParcelshopData.CityName" />
            <input required type="hidden" id="parcelshop-CountryCodeISO3166A2" name="shippingDelivery.ParcelshopData.CountryCodeISO3166A2" asp-for="@Model.Checkout.ShippingDelivery.ParcelshopData.CountryCodeISO3166A2" />
            <div class="checkout-wrap" id="shipping-wrap">
                <div class="custom-list">
                    <div class="custom-list-options" id="custom-list-options">
                        <select>
                            <option value="0">
                                @localizer["Choose Shipping"]
                            </option>
                            @foreach (var item in shippingMethods)
                            {
                                <option value="@optionValue">@item.Type | @item.Price dkk,-</option>
                                optionValue += 1;
                            }
                        </select>
                    </div>
                </div>

                <div class="col-12 right">
                    <button id="custom-list-button" class="button" type="submit">@localizer["Continue"]</button>
                </div>
            </div>

        </form>

    </div>
</div>

<div class="modal" id="nearby-shops-modal">
    <div id="nearby-shops">
        <div class="header no-margin">
            @localizer["Choose Parcelshop"]
        </div>
    </div>
</div>

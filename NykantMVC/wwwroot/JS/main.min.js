jQuery(document).ready(function(n){function u(t){var i=n([n(".cd-filter-trigger"),n(".cd-filter"),n(".cd-tab-filter"),n(".cd-gallery")]);i.each(function(){n(this).toggleClass("filter-is-visible",t)})}function o(){var t=n(".cd-main-content").offset().top;scrollTop=n(window).scrollTop();scrollTop>=t?n(".cd-main-content").addClass("is-fixed"):n(".cd-main-content").removeClass("is-fixed")}var r,i,s;n(".cd-filter-trigger").on("click",function(){u(!0)});n(".cd-filter .cd-close").on("click",function(){u(!1)});var t=n(".cd-tab-filter .placeholder a"),f="Select",e=t.text();n(".cd-tab-filter li").on("click",function(i){var r=n(i.target).data("type");n(i.target).is(t)?(f==t.text()?t.text(e):t.text(f),n(".cd-tab-filter").toggleClass("is-open")):t.data("type")==r?(t.text(n(i.target).text()),n(".cd-tab-filter").removeClass("is-open")):(n(".cd-tab-filter").removeClass("is-open"),t.text(n(i.target).text()).data("type",r),e=n(i.target).text(),n(".cd-tab-filter .selected").removeClass("selected"),n(i.target).addClass("selected"))});n(".cd-filter-block h4").on("click",function(){n(this).toggleClass("closed").siblings(".cd-filter-content").slideToggle(300)});n(window).on("scroll",function(){window.requestAnimationFrame?window.requestAnimationFrame(o):o()});buttonFilter.init();n(".cd-gallery ul").mixItUp({controls:{enable:!1},callbacks:{onMixStart:function(){n(".cd-fail-message").fadeOut(200)},onMixFail:function(){n(".cd-fail-message").fadeIn(200)}}});i=n();s=function(){var n=0;return function(t,i){clearTimeout(n);n=setTimeout(t,i)}}();n(".cd-filter-content input[type='search']").keyup(function(){s(function(){r=n(".cd-filter-content input[type='search']").val().toLowerCase();r.length>0?(n(".mix").each(function(){var t=n(this);i=t.attr("class").toLowerCase().match(r)?i.add(this):i.not(this)}),n(".cd-gallery ul").mixItUp("filter",i)):n(".cd-gallery ul").mixItUp("filter","all")},200)})});var buttonFilter={$filters:null,groups:[],outputArray:[],outputString:"",init:function(){var n=this;n.$filters=$(".cd-main-content");n.$container=$(".cd-gallery ul");n.$filters.find(".cd-filters").each(function(){var t=$(this);n.groups.push({$inputs:t.find(".filter"),active:"",tracker:!1})});n.bindHandlers()},bindHandlers:function(){var n=this;n.$filters.on("click","a",function(){n.parseFilters()});n.$filters.on("change",function(){n.parseFilters()})},parseFilters:function(){for(var t=this,i=0,n;n=t.groups[i];i++)n.active=[],n.$inputs.each(function(){var t=$(this);t.is('input[type="radio"]')||t.is('input[type="checkbox"]')?t.is(":checked")&&n.active.push(t.attr("data-filter")):t.is("select")?n.active.push(t.val()):t.find(".selected").length>0&&n.active.push(t.attr("data-filter"))});t.concatenate()},concatenate:function(){var n=this,t,i;for(n.outputString="",t=0;i=n.groups[t];t++)n.outputString+=i.active;n.outputString.length||(n.outputString="all");n.$container.mixItUp("isLoaded")&&n.$container.mixItUp("filter",n.outputString)}};